# Boss直聘自动化爬虫 (短信验证码版)

这是一个适配boss直聘短信验证码登录的自动化爬虫，支持自动登录和数据导出。

## 🆕 更新内容

- ✅ **适配短信验证码登录**：支持boss直聘最新的短信验证码登录方式
- ✅ **自动发送验证码**：程序自动点击发送验证码按钮
- ✅ **智能重试机制**：多种选择器确保页面元素识别
- ✅ **增强反检测**：更强的反爬虫检测能力

## 功能特点

- 📱 **短信验证码登录**：支持手机号+短信验证码自动登录
- 💾 **Cookie管理**：自动保存和加载登录状态，减少重复登录
- 🛡️ **强化反检测**：多重反爬虫检测策略
- 📊 **Excel导出**：支持导出为Excel格式，包含完整职位信息
- 🔄 **智能翻页**：支持多页数据批量获取
- 🎯 **容错处理**：多种选择器确保元素识别成功

## 文件说明

- `boss_sms_scraper.py` - 新版主程序（支持短信验证码）
- `boss_config.json` - 配置文件（只需填写手机号）
- `boss_cookies.json` - 自动生成的Cookie文件
- `anti_detection.py` - 反检测工具类

## 🚀 快速开始

### 1. 配置手机号

编辑 `boss_config.json`：

```json
{
  "phone": "13800138000",
  "login_method": "sms",
  "auto_send_sms": true
}
```

### 2. 运行爬虫

```bash
python boss_sms_scraper.py
```

### 3. 登录流程

1. 程序自动访问登录页面
2. 自动输入手机号并发送验证码
3. **你需要手动输入收到的验证码**
4. 程序自动完成登录并保存状态

### 4. 输入搜索参数

- 职位关键词（如：Python开发、前端工程师）
- 搜索城市（如：上海、北京、深圳）
- 爬取页数（建议3-5页）

## 🔐 三重登录策略

1. **Cookie复用**：优先使用保存的登录状态
2. **短信自动登录**：自动发送验证码，手动输入完成登录
3. **手动备用**：失败时支持完全手动登录

## 📊 数据字段

爬取的职位信息包括：
- 职位名称、薪资、公司名称
- 公司规模、行业、工作地点  
- 工作经验、学历要求、职位标签
- HR信息、职位详情链接

## 🛡️ 反爬虫策略

- 🎭 随机用户代理切换
- 🐭 模拟人类行为模式
- ⏰ 智能随机延时
- 🔄 多选择器容错处理
- 📱 移动端特征模拟

## 💼 商业化建议

### 部署方案
```bash
# 云服务器部署
nohup python boss_sms_scraper.py > scraper.log 2>&1 &

# 定时任务
0 9 * * * cd /path/to/scraper && python boss_sms_scraper.py
```

### 高级配置
- 使用代理IP池提高稳定性
- 建立多账号轮换机制
- 添加数据去重和清洗
- 集成消息推送和监控

## ⚠️ 注意事项

1. **合规使用**：遵守robots.txt协议和网站服务条款
2. **频率控制**：合理控制爬取频率，避免给服务器造成压力
3. **数据用途**：仅用于合法的学习和商业用途
4. **账号安全**：建议使用专门的测试账号进行爬取

## 🔧 故障排除

**问题1**：找不到验证码输入框
- 解决：检查页面是否完全加载，或页面结构已更新

**问题2**：登录后状态丢失  
- 解决：检查Cookie文件权限，确保能正常读写

**问题3**：爬取数据为空
- 解决：检查搜索关键词和城市是否正确，页面是否被反爬虫拦截

## 📈 性能优化

- 首次登录后Cookie可重复使用数天
- 支持断点续爬和增量更新
- 内存占用优化，适合长时间运行
- 支持批量关键词和多城市并行爬取